ПРИМЕРЫ ОШИБОК ЭТАПА КОМПОНОВКИ 

Какие ошибки могут возникнуть при неправильной организации кода.

1. НЕРАЗРЕШЕННАЯ ВНЕШНЯЯ ССЫЛКА (Undefined Reference)
- Функция объявлена в заголовке, но НЕ реализована в .cpp

--- rational.h ---
class Rational {
public:
    void missingFunction(); 
};

- Компилятор видит объявление функции в заголовке, компилирует вызов в main.cpp.
Но на этапе компоновки линкер не может найти реализацию этой функции.

2. МНОЖЕСТВЕННОЕ ОПРЕДЕЛЕНИЕ (Multiple Definition)
- Функция определена в заголовке БЕЗ inline и включена в несколько .cpp

--- rational.h ---
void helperFunction() {  // ОШИБКА: определение без inline
    // some code
}

--- rational.cpp ---
#include "rational.h"  // Включается helperFunction

--- main.cpp ---
#include "rational.h"  // Включается helperFunction снова

- Функция определена в заголовке. Когда заголовок включается в два .cpp файла,
получается два определения одной функции - это запрещено.

3. НЕОПРЕДЕЛЕННАЯ ССЫЛКА НА VTABLE
- Класс с виртуальными функциями, но не все реализованы

--- rational.h ---
class Base {
public:
    virtual void func1();  // Объявлена
    virtual void func2();  // Объявлена
    virtual ~Base();       // Объявлена
};

--- rational.cpp ---
void Base::func1() { /* реализована */ }
// func2() НЕ реализована
// ~Base() НЕ реализован

- Компилятор не может создать vtable потому что не все виртуальные функции реализованы.

4. ОТСУТСТВИЕ ОПРЕДЕЛЕНИЯ СТАТИЧЕСКОГО ЧЛЕНА
- Статический член класса объявлен, но не определен

--- rational.h ---
class Rational {
public:
    static int counter;  // Объявлен
};

--- rational.cpp ---
// НЕТ: int Rational::counter = 0;

--- main.cpp ---
int main() {
    Rational::counter = 10; 
}

- Статический член нужно не только объявить в классе, но и определить 
вне класса (обычно в .cpp файле).

5. НЕСООТВЕТСТВИЕ СИГНАТУР ФУНКЦИЙ
- Объявление и определение функции имеют разные параметры

--- rational.h ---
class Rational {
public:
    void setValue(int value);  // Принимает int
};

--- rational.cpp ---
void Rational::setValue(double value) {  // Принимает double
    // ...
}

- Компилятор видит объявление с int, ищет определение с int.
Находит определение с double.

6. ОТСУТСТВИЕ ФАЙЛА ПРИ КОМПОНОВКЕ
- Забыли включить .o или .cpp файл при компоновке

--- Правильная компиляция ---
g++ rational.cpp main.cpp -o program.exe

--- Неправильная компиляция ---
g++ main.cpp -o program.exe  // Забыли rational.cpp

- Все функции из rational.cpp недоступны, потому что файл не был скомпилирован
и включен в процесс компоновки.

7. ЦИКЛИЧЕСКИЕ ЗАВИСИМОСТИ
- Два заголовочных файла включают друг друга

--- rational.h ---
#include "helper.h"
class Rational { Helper h; };

--- helper.h ---
#include "rational.h"
class Helper { Rational r; };

- rational.h включает helper.h, который включает rational.h, который...
